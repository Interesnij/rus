{% load staticfiles humanize %}
<style>
  .reaction_window {
    opacity: 0;
  visibility: hidden;
  position: absolute;
  bottom: 25px;
  margin-bottom: 10px;
  display: flex;
  transition: 0.5s;
  }
  .reaction_window:hover {
      z-index: 10;
      opacity: 1;
      visibility: visible;
      background: #D6DAE1;
      color: black;
  }
  .react_btn:hover~.reaction_window{
      z-index: 10;
      opacity: 1;
      visibility: visible;
      background: #D6DAE1;
      color: black;
  }

.react_window {
    opacity: 0;
    visibility: hidden;
    position: absolute;
    transition: 0.2s;
    right: 16%;
}

.react_window:hover {
    z-index: 10;
    opacity: 1;
    visibility: visible;
    background: #D6DAE1;
    color: black;
}

.react:hover~.react_window {
    z-index: 10;
    opacity: 1;
    visibility: visible;
    background: #D6DAE1;
    color: black;
}

.article_fullscreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 20;
    padding: 5%;
    display: block;
    overflow: auto;
}

.item_fullscreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 18;
    padding: 5%;
    display: block;
    overflow: auto;
}

.card-body img {
    width: 100%;
}

#article_loader .card-body img {
    width: 100% !important;
    height: auto !important;
}

#article_loader iframe {
    width: 100% !important;
}

@media screen and (min-width: 621px) {
    .article_fullscreen {
        left: 20%;
        width: 60%;
        padding-left: 5%;
        padding-right: 5%;
    }
}

@media screen and (min-width: 621px) {
    .item_fullscreen {
        left: 20%;
        width: 60%;
        padding-left: 5%;
        padding-right: 5%;
    }
}

.next_item {
    position: absolute;
    left: -10%;
    top: 120px;
    cursor: pointer;
}

.prev_item {
    position: absolute;
    right: -10%;
    top: 120px;
    cursor: pointer;
}

.item_fullscreen_hide {
    cursor: pointer;
    float: right;
    margin-top: 12px;
}

.article_fullscreen_hide {
    cursor: pointer;
    float: right;
    margin-top: 12px;
}

.stream-update {
    text-align: center;
    border-bottom: 1px solid #eeeeee;
    display: none;
}

.comment_like_window,
.comment_dislike_window {
    opacity: 0;
    visibility: hidden;
    position: absolute;
    margin-bottom: 10px;
    display: flex;
    transition: 0.5s;
}

.comment_like_window:hover,
.comment_dislike_window:hover {
    z-index: 10;
    opacity: 1;
    visibility: visible;
    background: #D6DAE1;
    color: black;
}

.like2:hover~.comment_like_window,
.dislike2:hover~.comment_dislike_window {
    z-index: 10;
    opacity: 1;
    visibility: visible;
    background: #D6DAE1;
    color: black;
}

.id_text {
    overflow: hidden;
}
  #article_add,
  #images_upload,
  #gallery,
  #link,
  #doc,
  #good,
  #question,
  #settings{
    cursor:pointer;
  }
  .good_fullscreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 20;
      padding: 5%;
      display: block;
      overflow: auto;
  }

  .good_add_fullscreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 20;
      padding: 5%;
      display: block;
      overflow: auto;
  }

  #good_loader .card-body img {
      width: 100% !important;
      height: auto !important;
  }

  @media screen and (min-width: 621px) {
      .good_fullscreen {
          left: 20%;
          width: 60%;
          padding-left: 5%;
          padding-right: 5%;
      }

      .good_add_fullscreen {
          left: 20%;
          width: 60%;
          padding-left: 5%;
          padding-right: 5%;
      }
  }

  .good_fullscreen_hide {
      cursor: pointer;
      float: right;
      margin-top: 12px;
  }

  .good_fullscreen_hide {
      cursor: pointer;
      float: right;
      margin-top: 12px;
  }
</style>
<header class="main-header">
    <div class="container-fluid">
        <div class="align-items-center" style="display:flex;flex-wrap:wrap;">
            <div class="col-auto" style="padding-left: 0;">
              {% if user.is_authenticated %}
              <button class="btn pink-gradient btn-icon d-sm-none" id="left-menu">
                ггг
              </button>
              {% endif %}
                <a href="{% url 'main' %}" class="logo ajax">
                  <img src="{% static 'images/logo-icon.png' %}" alt="">
                  <span style="margin-top:10px;float:left;"class="d-none d-sm-block">ТРЕЗВЫЙ.РУС</span>
                </a>
            </div>

            <div class="col text-right">
              {% if request.user.is_authenticated %}
                <button class="btn btn-search btn-icon header-color-secondary text-hide-xs" type="button">
                  <img style="width:25px;" src="{% static 'images/icons/search-24px.svg' %}" />
                </button>

                <div class="dropdown text-hide-lg d-inline-block">
                    <a class="btn header-color-secondary btn-icon dropdown-toggle caret-none"
                       href="#"
                       role="button"
                       id="notification"
                       data-toggle="dropdown"
                       aria-haspopup="true"
                       aria-expanded="false">
                       <img style="width:25px;" src="{% static 'images/icons/notifications_none-24px.svg' %}" />
                       <span class="status-number bg-danger text-white">9+</span>
                    </a>

                    <div class="dropdown-menu notification-dropdown" aria-labelledby="notification" style="position: absolute;transform: translate3d(-189px, 44px, 0px);top: 0px;left: 0px;will-change: transform;">
                      {% if notifications %}
                        <a href="#" class="media pink-gradient-active">
                            <figure>
                                <img style="border:#6C757D solid 1px;border-radius:40px;padding:5px;width:40px;" src="{% static 'images/icons/notifications_none-24px.svg' %}" />
                            </figure>
                            <div class="media-body">
                              {{ notification.get_icon }}
                                <h5 class="mt-0">{{ notification|safe }}</h5>
                                <p>{{ notification.timestamp|naturaltime }}</p>
                            </div>
                        </a>
                        <br>
                        <p class="mt-0" style="display: flex;align-items: center;justify-content: center;">
                          <a class="ajax" href="{% url 'unread' %}">Показать все уведомления</a>
                          <a href="{% url 'mark_all_read' %}">Отметить как прочитанные</a>
                        </p>
                        {% else %}
                          <br>
                          <p class="text-center">Нет новых уведомлений</p>
                        {% endif %}
                    </div>

                </div>
                <div class="dropdown text-hide-xs d-inline-block">
                    <a class="btn header-color-secondary dropdown-toggle username"
                       href="#"
                       role="button"
                       id="dropdownMenuLink"
                       data-toggle="dropdown"
                       aria-haspopup="true"
                       aria-expanded="false">
                       <figure class="userpic">
                         {% if request.user.profile.avatar %}
                         <img src="{{ request.user.profile.avatar.url }}" alt="">
                         {% else %}
                         <img style="width:50px;width:50px;width:50px;border:#6C757D solid 1px;border-radius:50px;padding:5px;" src="{% static 'images/icons/person-24px.svg' %}" />
                         {% endif %}
                       </figure>
                       <h5 class="text-hide-xs">
                          <span class="header-color-primary">Мой профиль</span>
                       </h5>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right profile-dropdown" aria-labelledby="dropdownMenuLink">

                        <a class="dropdown-item pink-gradient-active ajax" href="{% url 'user' pk=request.user.pk %}">
                            <div class="row align-items-center">
                                <div class="col">
                                    Моя страница
                                </div>
                                <div class="col-auto">
                                    <img style="width:25px;" src="{% static 'images/icons/account_box-24px.svg' %}" />
                                </div>
                            </div>
                        </a>
                        <div class="dropdown-divider m-0"></div>
                        <a class="dropdown-item pink-gradient-active ajax" href="{% url 'logout' %}">
                            <div class="row align-items-center">
                                <div class="col">
                                    Выход
                                </div>
                                <div class="col-auto">
                                    <div class="text-danger ml-2">
                                      <img style="width:25px;" src="{% static 'images/icons/directions_run-24px.svg' %}" />
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</header>
