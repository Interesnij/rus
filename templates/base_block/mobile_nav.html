{% load staticfiles %}

<div class="sidebar sidebar-left">
  {% if request.user.is_authenticated %}
    <div class="container has-background-img">
        <figure class="background-img pink-gradient">
          {% if request.user.get_avatar %}
            <img src="{{ request.user.get_avatar.file.url }}" alt="image">
            {% else %}
              <img src="{% static 'images/user1.png' %}" alt="image">
            {% endif %}
        </figure>
        <div class="media w-100 my-3">
            <figure class="avatar-40 rounded-circle align-self-start " style="width: 100%;">
                {% if request.user.get_avatar %}
                  <img src="{{ request.user.get_avatar.file.url }}" alt="image" style="border-radius:50px;width:100%;">
                {% else %}
                  <img src="{% static 'images/user1.png' %}" alt="image" style="width:100%;width:100%;">
                {% endif %}
            </figure>
            <div class="media-body mx-70">
                <h5 class="time-title mb-0 text-white">{{ request.user.get_full_name }}</h5>
                {% if request.user.profile.status %}
                  <p class="mb-0 text-truncate text-white">{{ request.user.profile.status }}</p>
                {% else %}
                  <p class="mb-0 text-truncate text-white">Статус не указан</p>
                {% endif %}
            </div>
        </div>
    </div>

    <ul class="nav flex-column">
        <li class="nav-item">
            <a href="{% url 'user' pk=request.user.pk %}" class="nav-link dropdwown-toggle ajax">
              <svg class="svg_default" style="margin:10px;" fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
                <span>Моя страница</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="{% url 'main' %}" class="nav-link dropdwown-toggle ajax">
              <svg class="svg_default" style="margin:10px;" fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                <span>Новости</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="{% url 'messages_list' %}" class="nav-link dropdwown-toggle ajax">
              <svg class="svg_default" style="margin:10px;" fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
                <span>Сообщения</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="{% url 'frends' pk=request.user.pk %}" class="nav-link dropdwown-toggle ajax">
              <svg class="svg_default" style="margin:10px;" fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
                <span>Друзья</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="{% url 'communities' pk=request.user.pk %}" class="nav-link dropdwown-toggle ajax">
              <svg class="svg_default" style="margin:10px;" fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                <span>Сообщества</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="{% url 'user_gallery' pk=request.user.pk %}" class="nav-link dropdwown-toggle ajax">
              <svg class="svg_default" style="margin:10px;" fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>
                <span>Фотографии</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="{% url 'user_goods' pk=request.user.pk %}" class="nav-link dropdwown-toggle ajax">
              <svg class="svg_default" style="margin:10px;" fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M16 6V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H2v13c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6h-6zm-6-2h4v2h-4V4zM9 18V9l7.5 4L9 18z"/></svg>
                <span>Товары</span>
            </a>
        </li>
    </ul>
    {% else %}
    Нужно
    <a href="{% url 'main' %}" style="text-decoration:underline;" class="ajax">
      войти
    </a>
    или
    <a href="{% url 'main' %}" style="text-decoration:underline;" class="ajax">
      зарегистрироваться
    </a>
    для полного доступа к функциям сайта
    {% endif %}
</div>
<div class="backdrop"></div>
