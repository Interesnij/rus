{% extends "base.html" %}
{% load staticfiles %}
{% block title %}Вход {% endblock %}
{% block content %}


<<div class="container-fluid h-100 h-sm-auto">
            <div class="row h-100 h-sm-auto">
                <div class="col-12 col-md-6 h-md-100  h-sm-auto order-2 order-md-1">
                    <form action="{% url 'rest_login' %}" class="row align-items-center h-100 h-sm-auto ajax-form">
                      {% csrf_token %}
                        <div class="col-12 col-md-10 col-lg-8 col-xl-6 mx-auto">
                            <h1 class="font-weight-light mb-3 mt-4 content-color-secondary text-left">Вход</h1>

                            <div class="card mb-2">
                                <div class="card-body p-0">
                                    <input type="text" id="username" name="username" class="form-control form-control-lg border-0" placeholder="Ваш логин">
                                    <hr class="my-0">
                                    <input type="password" id="password" name="password" class="form-control form-control-lg border-0" placeholder="Ваш пароль">
                                </div>
                            </div>
                            <small class="form-text text-muted api-response"></small>
                            <div class="my-4 row">
                                <div class="col-6 col-md text-right">
                                    <a href="" class="content-color-primary">Забыли пароль?</a>
                                </div>
                            </div>
                            <div class="text-left mb-4">
                                <button type="submit" class=" btn btn-primary pink-gradient">Войти</button>
                                <a href="{% url 'signup' %}" class="float-right btn btn-outline-primary">Регистрация</a>
                            </div>

                        </div>
                    </form>
                </div>
                <div class="col-12 col-md-6 h-md-100 order-1 order-md-2 min-height-300 p-0 bg-dark ">
                    <div class="carosel swiper-location-carousel h-100 h-sm-auto">
                        <div data-pagination='{"el": ".swiper-pagination"}' data-space-between="0" data-slides-per-view="1" class="swiper-container swiper-init swiper-signin h-100">
                            <div class="swiper-pagination"></div>
                            <div class="swiper-wrapper">
                                <div class="swiper-slide text-center ">
                                    <div class="background-img">
                                      <img src="{% static 'images/banner.png' %}" alt="" class="w-auto float-right">
                                    </div>
                                    <div class="row align-items-center h-100 text-white">
                                        <div class="col-10 col-md-8 col-lg-6 mx-auto my-4">
                                            <h1 class="font-weight-light mb-4">Easy, Unique and Creative multipurpose template</h1>
                                            <p>GoTRI-Mobile is very unique and flexible with large number of customized components. Get this now, share with beautiful world. </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-slide text-center">
                                    <div class="background-img"><img src="{% static 'images/banner2.png' %}" alt="" class="w-auto"></div>
                                    <div class="row align-items-center h-100 text-white">
                                        <div class="col-10 col-md-8 col-lg-6 mx-auto my-4">
                                            <h1 class="font-weight-light mb-4">Save 1000s hours, Efforts and your own Money</h1>
                                            <p>GoTRI has many more flexible unique component with very creative design you can save much more with this template.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script type="text/javascript">
            var error_response = function(data) {
                $('.api-response').html("ошибка");
            }
            var susccess_response = function(data) {
              $('.api-response').html("удача");
            }
            $().ready(function() {
                $('form.ajax-form button[type=submit]').click(function() {
                    var form = $('form.ajax-form');
                    $.post(form.attr('action'), form.serialize())
                        .fail(function(data) {
                            error_response(data);
                            console.log(data);
                        })
                        .done(function(data) {
                            susccess_response(data);
                        });
                    return false;
                });
            });
        </script>

    {% endblock %}
