{% load staticfiles %}

{% if tag_list %}

<div class="media" style="margin-top: 35px;">
  <div class="media-body">
    <h4 class="content-color-primary mb-0">Музыкальные теги буквы {{ symbol.name }}
    <small class="content-color-secondary float-right mr-2 mt-1">Всего {{ symbol.get_tags_count }}</small></h4>
  </div>
</div>

<div class="row tags-container" style="margin-top: 25px;">
{% for object in tag_list %}
<div class="col-12 infinite-item">
  <div class="card mb-4">
      <div class="card-body">
          <div class="media">
              <div class="media-body">
                  <p class=" mb-0">{% for genre in object.get_genres %}{{ genre.name }}{% if not forloop.last%}, {% endif %}&nbsp;{% endfor %}</p>
                  <h4 class="mb-0">
                    <a class="ajax" href="{% url 'tag_all_music' pk=object.pk %}">
                       {{ object.name }}
                    </a>
                  </h4>
              </div>
          </div>
      </div>
  </div>
</div>
{% endfor %}

<div class="tags_load col-12 col-md-12">
    {% if tag_list.has_next %}
    <a style="display:flex;justify-content:center;" class="infinite-more-link" href="/music/list/tag_list/{{ symbol.pk }}/?page={{ tag_list.next_page_number }}">
        <img style="width: 30px;" src="{% static 'images/loading.gif' %}">
    </a>
    {% endif %}
</div>
</div>

<script>
  var tags_infinite = new Waypoint.Infinite({element: $('.tags-container')[0], onBeforePageLoad: function() { $('.tags_load').show(); }, onAfterPageLoad: function($items) { $('.tags_load').hide(); }});
</script>


{% endif %}
