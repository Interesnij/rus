{% extends "base.html" %}
{% load staticfiles humanize %}
{% block title %}Мои уведомления{% endblock %}


{% block content %}
<span class="notifications" style="padding:20px">
{% if notification_list %}
<a class="btn btn-dark pull-right" href="{% url 'user_all_read' %}">Mark all as read</a>
{% for notification in notification_list %}
<div class="card mb-4 notification">
    <div class="card-header border-bottom">
        <div class="media">
            <figure>
              {% if notification.actor.profile.avatar %}
                <img src="{{ notification.actor.profile.avatar.url }}" alt="image" style="border-radius:50px;width:50px;">
              {% else %}
                <svg fill="currentColor" class="svg_default svg_default_50" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
              {% endif %}
            </figure>
            <div class="media-body">
                <h6 class="mb-0">
                  <a href="{% url 'user' pk=notification.actor.pk %}" class="ajax">
                    {{ notification.actor.first_name }} {{ notification.actor.last_name }}
                  </a>
                  <p class="mb-0">{{ notification.timestamp|naturaltime }}</p>
                </h6>
                <p class="mb-0">
                  {{ notification.get_verb_display }}
                  {% if notification.action_object.content_hard %}
                    {{ notification.action_object.content_hard|safe }}
                  {% endif %}
                  {% if notification.action_object.content_medium %}
                    {{ notification.action_object.content_medium|safe }}
                  {% endif %}
                  {% if notification.action_object.content_lite %}
                  {{ notification.action_object.content_lite|safe }}
                  {% endif %}
                </p>
            </div>
        </div>
    </div>
</div>

{% endfor %}
{% else %}
Пока ничего нет...
{% endif %}
</span>

{% endblock %}
