{% load staticfiles %}
<script src="{% static 'scripts/jquery-3.2.1.min.js' %}" type="text/javascript"></script>

<form action="" id="FORM-POST1" method="post">
  {% csrf_token %}
    {{ form_hard.content_hard }}
    <div class="card-footer">
      <button class="btn btn-secondary remove_form">Отмена</button>
      <button type="submit" class="btn btn-success float-right">Опубликовать</button>
   </div>
</form>

<script defer src="/static/scripts/jquery.toast.min.js" type="text/javascript"></script>
<script defer type="text/javascript">
    var frm = $('#FORM-POST1');
    frm.submit(function () {
      CKEDITOR.instances.id_content_hard.updateElement();
        $.ajax({
            type: frm.attr('method'),
            url: "{% url 'article_add_hard_user' %}",
            data: frm.serialize(),
            success: function (data) {
              $(".stream").prepend(data);
              $('#article_create').empty();
              $.toast({
                  heading: '{{ request.user.first_name }}',
                  text: 'Статья успешно создана!',
                  showHideTransition: 'fade',
                  icon: 'success'
              })
            },
            error: function(data) {
                $("#hack").html("Возникла непредвидинная ошибка!!");
            }
        });
        return false;
    });
</script>
<script defer>
  $( ".remove_form" ).click(function(){
    $('#article_create').empty();
  });
</script>
<script type="text/javascript" src="{% static "ckeditor/ckeditor-init.js" %}"></script>
<script type="text/javascript" src="{% static "ckeditor/ckeditor/ckeditor.js" %}"></script>
