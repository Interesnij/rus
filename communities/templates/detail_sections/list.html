{% load staticfiles humanize %}

{% if items_list %}

<div class="infinite-container">
  <div class="stream-update">
    <a href=""><span class="new-posts"></span> Загрузить новые записи</a>
  </div>

  <span class="community_stream">

    {% if community.article %}
        {% include 'item_community/article.html' with article=article %}
    {% endif %}

    {% if community.post %}
      {% include 'item_community/post.html' with post=post  %}
    {% endif %}

    {% for object in items_list %}

      {% if object.article %}
          {% include 'item_community/article.html' with article=article  %}
      {% endif %}

      {% if object.post %}
          {% include 'item_community/post.html' with post=post  %}
      {% endif %}

    {% endfor %}
    <div class="load col-12 col-md-12" >
      {% if items_list.has_next %}
        <a style="display:flex;justify-content:center;" class="infinite-more-link" href="{% url 'community_item_list' community.pk %}?page={{ items_list.next_page_number }}">
          <img src="{% static 'images/loading.gif' %}">
        </a>
      {% endif %}
    </div>

  </span>
</div>
{% else %}
<div class="card mb-4 post_empty" style="align-items: center;justify-content:center;">
  <div class="card-body">
  <svg fill="currentColor" class="thumb_big svg_default" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path fill="currentColor" d="M22 13h-8v-2h8v2zm0-6h-8v2h8V7zm-8 10h8v-2h-8v2zm-2-8v6c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2zm-1.5 6l-2.25-3-1.75 2.26-1.25-1.51L3.5 15h7z"/></svg>
  </div>
  <h6 style="margin-bottom: 20px;"> Пока ничего нет...</h6>
</div>
{% endif %}

<script defer src="{% static 'scripts/community.js' %}" type="text/javascript"></script>
