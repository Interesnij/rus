{% load staticfiles %}

{% if photo_list %}
<div class="row">
{% for object in photo_list %}

  <div class="col-sm-12 col-md-6 col-lg-4 infinite-item photo_detail" style="cursor:pointer" data-uuid="{{ object.creator.uuid }}" data-id="{{ object.id }}">
      <div class="card rounded-0 border-0 mb-4">
        <img style="width: 100%;object-fit: cover;height: 200px;" class="lazyload" data-src="{{ object.file.url }}" alt="">
      </div>
  </div>

  {% endfor %}

<div class="load col-12 col-md-12">
    {% if photo_list.has_next %}
    <a style="display:flex;justify-content:center;" class="infinite-more-link" href="{% url 'user_photos' user.uuid %}?page={{ photo_list.next_page_number }}">
        <img src="{% static 'images/loading.gif' %}">
    </a>
    {% endif %}
</div>

{% else %}
<h6> Фотографий пока нет...</h6>
</div>
{% endif %}
<script defer src="{% static 'scripts/gallery.js' %}" type="text/javascript"></script>
<script>
$('.infinite-container').on('click', '.photo_detail', function() {
    var photo = $(this);
    var photo_id = photo.data("id");
    var user_uuid = photo.data("uuid");
    $('#photo_loader').html('').load("/gallery/load/photo/" + photo_id + "/" + user_uuid + "/")
    $('.photo_fullscreen').show();
});
</script>
